<!DOCTYPE html>
<html>
    <head>
        <title>Clock</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
        <link href="data:image/x-icon;base64,AAABAAEAEBAQAAEABAAoAQAAFgAAACgAAAAQAAAAIAAAAAEABAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAA////AAkJCQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIiIiAAAAAAIRIREgAAAAISEREhIAAAIRERERESAAISERERESEgAhEREiERESACERESIhERIAIhESERIRIgAhESERESESACEhEREREhIAAhERERERIAAAISEREhIAAAACESERIAAAAAAiIiIAAAAAAAAAAAAAD//wAA+B8AAPAPAADgBwAAwAMAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAMADAADgBwAA8A8AAPgfAAD//wAA" rel="icon" type="image/x-icon" />
        <style>
            body{
                background-color: #121212;
            }
            h2{
                font-family: 'Orbitron', sans-serif;
                color: #66ff99;
                font-size: 3vw;
                text-align: center;
           
                
              
            }
            h1, #clock {
                font-family: 'Orbitron', sans-serif;
                color: #66ff99;
                font-size: 6vw;
                text-align: center;
                padding-top: 10px;
                padding-bottom: 40px;
            }
            #big,#small,#speaker,#format{  
            display: block;
            margin-left: auto;
            margin-right: auto;
            min-width:80px;
            width: 20%;
            color: #121212;
            margin-bottom: 1%;
           

            }
            
            @media screen and (max-width: 800px) {
            #big, #small,#format,#speaker {
                width: 30%;
                
            }
            }
           
            @media screen and (max-width: 800px) {
            #clock, h1 {
                width: 100%;
                font-size: 8vw;
                
            }
            }
            @media screen and (max-width: 800px) {
            h2 {
                width: 100%;
                font-size: 5vw;
                
            }
            }
        </style>
    </head>
    <body>
        <h2 id="date">Date: </h2>
        <h1>The current time is:</h1>
        <h1 id ="clock"></h1>
        <button onclick="Bigger()"id= "big" class="btn btn-light">Bigger</button>
        <button onclick="Smaller()"id ="small" class="btn btn-light">Smaller</button>
        <button onclick="Talk()" id="speaker" class="btn btn-light">Text-to-Speech</button>
        <button onclick="Format()" id="format" class="btn btn-light">12 hours format</button>
        <script>
            var timer;
            var seconds;
            var hours;
            var minutes;
            var format = false;
            //Функция за часовника, използва се Date() като готов обект
            function GetTime(){
                var date = new Date();
                hour = date.getHours();
                if(format==true)
                {
                    if(hour>12)
                    {
                        hour-=12;
                    }
                    
                }
                else
                {
                    hour = date.getHours();
                }
                minutes = date.getMinutes();
                seconds = date.getSeconds();
                minutes = update(minutes);
                seconds = update(seconds);
                timer = document.getElementById("clock").innerText = hour + " : "+minutes + " : "+ seconds;
                var time = setTimeout(function(){GetTime()},1000);
                


            }
            //Функция за изписване на Double-digit number, ако часовете, минутите или секундите са цифра по-малка от 10 

            function update(a){
                if(a<10){
                    return "0"+a;
                }
                else{
                    return a;
                }
                
            }
            var helper = 6;
            if($(window).width<=800&&$(window).height<=600)
            {
                helper = 8;
            }
            else
            helper = 6;
            var size = document.getElementById("clock");
            //Функция за уголемяване на часовника
            function Bigger(){
               helper+=1;
               size.style.fontSize=parseInt(helper)+"vw";
               clamp_check();
            }
            //Функция за смаляване на часовника
            function Smaller(){

                helper-=1;
                size.style.fontSize=parseInt(helper)+"vw";
                clamp_check();
            }
            //Функция, която проверява дали големината на надписа надвишава максимума или е по-малък от минимума
           function clamp_check(){
               if(helper==9)
               document.getElementById("big").setAttribute('disabled',true);
               else
               {
               document.getElementById("big").removeAttribute('disabled');
               
               }
               if(helper==2)
               document.getElementById("small").setAttribute('disabled',true);
               else
               document.getElementById("small").removeAttribute('disabled');
           }
           ///Функция за text-to-speech бутона
           function Talk(){
               
               speechSynthesis.speak(new SpeechSynthesisUtterance( "It is "+hour+"a' clock and "+minutes+"minutes"));
           }
           //Функция за Формата на часовника (12-24 часов)
           function Format()
           {
               if(format == false)
               {
               format = true;
               document.getElementById("format").innerText="24-hours format";
               }
               else
               {
               format = false;
               document.getElementById("format").innerText="12-hours format";
               }
           }
           // Функция за датата, собствена имплементация отново с обекта Date()
           function GetDate(){
               var d = new Date();
               var months = ["January","February","March","April","May","June","July","August","September","October","November","December"];
               var days = ["","Mon","Tue","Wed","Thu","Fri","Sat","Sun"];
               let help="";
               if(d.getDate()==1||d.getDate()%10==1&&d.getDate()!=11)
               {
                   help = "st";
               }
               else if(d.getDate()==2||d.getDate()%10==2&&d.getDate()!=12)
               {
                   help = "nd";
               }
               else if(d.getDate()==3||d.getDate()%10==3&&d.getDate()!=13)
               {
                   help = "rd";
               }
               else
               {
                help="th";
               }
               document.getElementById("date").innerText = days[d.getDay()]+" "+months[d.getMonth()]+" "+d.getDate()+" "+help+" "+d.getFullYear();
               var time = setTimeout(function(){GetDate()},1000);
           }
           GetDate();
            GetTime();
        </script>
    </body>
</html>